import{e as z,r as P,f as G,w as ae,m as $,g as st,l as qe,n as ct,o as ut,c as U,p as dt,$ as C,a0 as w,a1 as d,a2 as K,a3 as j,F as Z,a4 as he,a5 as A,a6 as pe,a7 as V,a8 as T,A as Se,G as ke,J as ht,S as gt,a9 as je,aa as Ee,V as Me,t as pt,ab as se,ac as ce}from"./@vue-9926d340.js";import{t as ue,w as M,u as Q,a as _e,o as vt}from"./@vueuse-f8675665.js";import{t as R}from"./tinycolor2-8fe94c9b.js";import{s as ft,p as Ct}from"./gradient-parser-8ea7f2ac.js";import{V as ne}from"./@aesoper-129a60c8.js";import{l as fe}from"./lodash-es-6d6f457b.js";import{c as bt}from"./@popperjs-898015e8.js";/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Ne(e){return Object.prototype.toString.call(e)==="[object Object]"}function yt(e){var o,t;return Ne(e)===!1?!1:(o=e.constructor,o===void 0?!0:(t=o.prototype,!(Ne(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}function de(){return de=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},de.apply(this,arguments)}function Ge(e,o){if(e==null)return{};var t,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)o.indexOf(t=n[a])>=0||(i[t]=e[t]);return i}const mt={silent:!1,logLevel:"warn"},St=["validator"],Ye=Object.prototype,Xe=Ye.toString,kt=Ye.hasOwnProperty,Fe=/^\s*function (\w+)/;function Ke(e){var o;const t=(o=e==null?void 0:e.type)!==null&&o!==void 0?o:e;if(t){const a=t.toString().match(Fe);return a?a[1]:""}return""}const ee=yt,_t=e=>e;let N=_t;const re=(e,o)=>kt.call(e,o),wt=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},le=Array.isArray||function(e){return Xe.call(e)==="[object Array]"},ie=e=>Xe.call(e)==="[object Function]",ve=e=>ee(e)&&re(e,"_vueTypes_name"),Je=e=>ee(e)&&(re(e,"type")||["_vueTypes_name","validator","default","required"].some(o=>re(e,o)));function we(e,o){return Object.defineProperty(e.bind(o),"__original",{value:e})}function te(e,o,t=!1){let a,i=!0,n="";a=ee(e)?e:{type:e};const l=ve(a)?a._vueTypes_name+" - ":"";if(Je(a)&&a.type!==null){if(a.type===void 0||a.type===!0||!a.required&&o===void 0)return i;le(a.type)?(i=a.type.some(r=>te(r,o,!0)===!0),n=a.type.map(r=>Ke(r)).join(" or ")):(n=Ke(a),i=n==="Array"?le(o):n==="Object"?ee(o):n==="String"||n==="Number"||n==="Boolean"||n==="Function"?function(r){if(r==null)return"";const s=r.constructor.toString().match(Fe);return s?s[1]:""}(o)===n:o instanceof a.type)}if(!i){const r=`${l}value "${o}" should be of type "${n}"`;return t===!1?(N(r),!1):r}if(re(a,"validator")&&ie(a.validator)){const r=N,s=[];if(N=g=>{s.push(g)},i=a.validator(o),N=r,!i){const g=(s.length>1?"* ":"")+s.join(`
* `);return s.length=0,t===!1?(N(g),i):g}}return i}function D(e,o){const t=Object.defineProperties(o,{_vueTypes_name:{value:e,writable:!0},isRequired:{get(){return this.required=!0,this}},def:{value(i){return i===void 0?(re(this,"default")&&delete this.default,this):ie(i)||te(this,i,!0)===!0?(this.default=le(i)?()=>[...i]:ee(i)?()=>Object.assign({},i):i,this):(N(`${this._vueTypes_name} - invalid default value: "${i}"`),this)}}}),{validator:a}=t;return ie(a)&&(t.validator=we(a,t)),t}function X(e,o){const t=D(e,o);return Object.defineProperty(t,"validate",{value(a){return ie(this.validator)&&N(`${this._vueTypes_name} - calling .validate() will overwrite the current custom validator function. Validator info:
${JSON.stringify(this)}`),this.validator=we(a,this),this}})}function Le(e,o,t){const a=function(s){const g={};return Object.getOwnPropertyNames(s).forEach(u=>{g[u]=Object.getOwnPropertyDescriptor(s,u)}),Object.defineProperties({},g)}(o);if(a._vueTypes_name=e,!ee(t))return a;const{validator:i}=t,n=Ge(t,St);if(ie(i)){let{validator:s}=a;s&&(s=(r=(l=s).__original)!==null&&r!==void 0?r:l),a.validator=we(s?function(g){return s.call(this,g)&&i.call(this,g)}:i,a)}var l,r;return Object.assign(a,n)}function Ce(e){return e.replace(/^(?!\s*$)/gm,"  ")}const Ot=()=>X("any",{}),Rt=()=>X("function",{type:Function}),At=()=>X("boolean",{type:Boolean}),Bt=()=>X("string",{type:String}),Pt=()=>X("number",{type:Number}),xt=()=>X("array",{type:Array}),Ht=()=>X("object",{type:Object}),Vt=()=>D("integer",{type:Number,validator:e=>wt(e)}),Tt=()=>D("symbol",{validator:e=>typeof e=="symbol"});function $t(e,o="custom validation failed"){if(typeof e!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return D(e.name||"<<anonymous function>>",{type:null,validator(t){const a=e(t);return a||N(`${this._vueTypes_name} - ${o}`),a}})}function jt(e){if(!le(e))throw new TypeError("[VueTypes error]: You must provide an array as argument.");const o=`oneOf - value should be one of "${e.join('", "')}".`,t=e.reduce((a,i)=>{if(i!=null){const n=i.constructor;a.indexOf(n)===-1&&a.push(n)}return a},[]);return D("oneOf",{type:t.length>0?t:void 0,validator(a){const i=e.indexOf(a)!==-1;return i||N(o),i}})}function Et(e){if(!le(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");let o=!1,t=[];for(let i=0;i<e.length;i+=1){const n=e[i];if(Je(n)){if(ve(n)&&n._vueTypes_name==="oneOf"&&n.type){t=t.concat(n.type);continue}if(ie(n.validator)&&(o=!0),n.type===!0||!n.type){N('oneOfType - invalid usage of "true" or "null" as types.');continue}t=t.concat(n.type)}else t.push(n)}t=t.filter((i,n)=>t.indexOf(i)===n);const a=t.length>0?t:null;return D("oneOfType",o?{type:a,validator(i){const n=[],l=e.some(r=>{const s=te(ve(r)&&r._vueTypes_name==="oneOf"?r.type||null:r,i,!0);return typeof s=="string"&&n.push(s),s===!0});return l||N(`oneOfType - provided value does not match any of the ${n.length} passed-in validators:
${Ce(n.join(`
`))}`),l}}:{type:a})}function Mt(e){return D("arrayOf",{type:Array,validator(o){let t="";const a=o.every(i=>(t=te(e,i,!0),t===!0));return a||N(`arrayOf - value validation error:
${Ce(t)}`),a}})}function Nt(e){return D("instanceOf",{type:e})}function Kt(e){return D("objectOf",{type:Object,validator(o){let t="";const a=Object.keys(o).every(i=>(t=te(e,o[i],!0),t===!0));return a||N(`objectOf - value validation error:
${Ce(t)}`),a}})}function Lt(e){const o=Object.keys(e),t=o.filter(i=>{var n;return!((n=e[i])===null||n===void 0||!n.required)}),a=D("shape",{type:Object,validator(i){if(!ee(i))return!1;const n=Object.keys(i);if(t.length>0&&t.some(l=>n.indexOf(l)===-1)){const l=t.filter(r=>n.indexOf(r)===-1);return N(l.length===1?`shape - required property "${l[0]}" is not defined.`:`shape - required properties "${l.join('", "')}" are not defined.`),!1}return n.every(l=>{if(o.indexOf(l)===-1)return this._vueTypes_isLoose===!0||(N(`shape - shape definition does not include a "${l}" property. Allowed keys: "${o.join('", "')}".`),!1);const r=te(e[l],i[l],!0);return typeof r=="string"&&N(`shape - "${l}" property validation error:
 ${Ce(r)}`),r===!0})}});return Object.defineProperty(a,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(a,"loose",{get(){return this._vueTypes_isLoose=!0,this}}),a}const It=["name","validate","getter"],Dt=(()=>{var e;return(e=class{static get any(){return Ot()}static get func(){return Rt().def(this.defaults.func)}static get bool(){return At().def(this.defaults.bool)}static get string(){return Bt().def(this.defaults.string)}static get number(){return Pt().def(this.defaults.number)}static get array(){return xt().def(this.defaults.array)}static get object(){return Ht().def(this.defaults.object)}static get integer(){return Vt().def(this.defaults.integer)}static get symbol(){return Tt()}static get nullable(){return{type:null}}static extend(o){if(le(o))return o.forEach(s=>this.extend(s)),this;const{name:t,validate:a=!1,getter:i=!1}=o,n=Ge(o,It);if(re(this,t))throw new TypeError(`[VueTypes error]: Type "${t}" already defined`);const{type:l}=n;if(ve(l))return delete n.type,Object.defineProperty(this,t,i?{get:()=>Le(t,l,n)}:{value(...s){const g=Le(t,l,n);return g.validator&&(g.validator=g.validator.bind(g,...s)),g}});let r;return r=i?{get(){const s=Object.assign({},n);return a?X(t,s):D(t,s)},enumerable:!0}:{value(...s){const g=Object.assign({},n);let u;return u=a?X(t,g):D(t,g),g.validator&&(u.validator=g.validator.bind(u,...s)),u},enumerable:!0},Object.defineProperty(this,t,r)}}).defaults={},e.sensibleDefaults=void 0,e.config=mt,e.custom=$t,e.oneOf=jt,e.instanceOf=Nt,e.oneOfType=Et,e.arrayOf=Mt,e.objectOf=Kt,e.shape=Lt,e.utils={validate:(o,t)=>te(t,o,!0)===!0,toType:(o,t,a=!1)=>a?X(o,t):D(o,t)},e})();function zt(e={func:()=>{},bool:!0,string:"",number:0,array:()=>[],object:()=>({}),integer:0}){var o;return(o=class extends Dt{static get sensibleDefaults(){return de({},this.defaults)}static set sensibleDefaults(t){this.defaults=t!==!1?de({},t!==!0?t:e):{}}}).defaults=de({},e),o}class f extends zt(){}var Wt=Object.defineProperty,qt=(e,o,t)=>o in e?Wt(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,E=(e,o,t)=>(qt(e,typeof o!="symbol"?o+"":o,t),t);const H=e=>Math.round(e*100)/100;class B{constructor(o){E(this,"instance"),E(this,"alphaValue",0),E(this,"redValue",0),E(this,"greenValue",0),E(this,"blueValue",0),E(this,"hueValue",0),E(this,"saturationValue",0),E(this,"brightnessValue",0),E(this,"hslSaturationValue",0),E(this,"lightnessValue",0),E(this,"initAlpha",()=>{const t=this.instance.getAlpha();this.alphaValue=Math.min(1,t)*100}),E(this,"initLightness",()=>{const{s:t,l:a}=this.instance.toHsl();this.hslSaturationValue=H(t),this.lightnessValue=H(a)}),E(this,"initRgb",()=>{const{r:t,g:a,b:i}=this.instance.toRgb();this.redValue=H(t),this.greenValue=H(a),this.blueValue=H(i)}),E(this,"initHsb",()=>{const{h:t,s:a,v:i}=this.instance.toHsv();this.hueValue=Math.min(360,Math.ceil(t)),this.saturationValue=H(a),this.brightnessValue=H(i)}),E(this,"toHexString",()=>this.instance.toHexString()),E(this,"toRgbString",()=>this.instance.toRgbString()),this.instance=R(o),this.initRgb(),this.initHsb(),this.initLightness(),this.initAlpha()}toString(o){return this.instance.toString(o)}get hex(){return this.instance.toHex()}set hex(o){this.instance=R(o),this.initHsb(),this.initRgb(),this.initAlpha(),this.initLightness()}set hue(o){this.saturation===0&&this.brightness===0&&(this.saturationValue=1,this.brightnessValue=1),this.instance=R({h:H(o),s:this.saturation,v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.hueValue=H(o)}get hue(){return this.hueValue}set saturation(o){this.instance=R({h:this.hue,s:H(o),v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.saturationValue=H(o)}get saturation(){return this.saturationValue}set brightness(o){this.instance=R({h:this.hue,s:this.saturation,v:H(o),a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.brightnessValue=H(o)}get brightness(){return this.brightnessValue}set lightness(o){this.instance=R({h:this.hue,s:this.hslSaturationValue,l:H(o),a:this.alphaValue/100}),this.initRgb(),this.initHsb(),this.lightnessValue=H(o)}get lightness(){return this.lightnessValue}set red(o){const t=this.instance.toRgb();this.instance=R({...t,r:H(o),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.redValue=H(o)}get red(){return this.redValue}set green(o){const t=this.instance.toRgb();this.instance=R({...t,g:H(o),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.greenValue=H(o)}get green(){return this.greenValue}set blue(o){const t=this.instance.toRgb();this.instance=R({...t,b:H(o),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.blueValue=H(o)}get blue(){return this.blueValue}set alpha(o){this.instance.setAlpha(o/100),this.alphaValue=o}get alpha(){return this.alphaValue}get RGB(){return[this.red,this.green,this.blue,this.alpha/100]}get HSB(){return[this.hue,this.saturation,this.brightness,this.alpha/100]}get HSL(){return[this.hue,this.hslSaturationValue,this.lightness,this.alpha/100]}}function Ie(e,o,t,a){return`rgba(${[e,o,t,a/100].join(",")})`}const ye=(e,o,t)=>o<t?e<o?o:e>t?t:e:e<t?t:e>o?o:e,Oe="color-history",Re=8,q=(e,o)=>{const t=e.__vccOpts||e;for(const[a,i]of o)t[a]=i;return t},Gt=z({name:"Alpha",props:{color:f.instanceOf(B),size:f.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:o}){const t=P(null),a=P(null);let i=e.color||new B;const n=G({red:i.red,green:i.green,blue:i.blue,alpha:i.alpha});ae(()=>e.color,c=>{c&&(i=c,fe(n,{red:c.red,green:c.green,blue:c.blue,alpha:c.alpha}))},{deep:!0});const l=$(()=>{const c=Ie(n.red,n.green,n.blue,0),p=Ie(n.red,n.green,n.blue,100);return{background:`linear-gradient(to right, ${c} , ${p})`}}),r=()=>{if(t.value&&a.value){const c=n.alpha/100,p=t.value.getBoundingClientRect(),b=a.value.offsetWidth;return Math.round(c*(p.width-b)+b/2)}return 0},s=$(()=>({left:r()+"px",top:0})),g=c=>{c.target!==t.value&&u(c)},u=c=>{if(c.stopPropagation(),t.value&&a.value){const p=t.value.getBoundingClientRect(),b=a.value.offsetWidth;let y=c.clientX-p.left;y=Math.max(b/2,y),y=Math.min(y,p.width-b/2);const v=Math.round((y-b/2)/(p.width-b)*100);i.alpha=v,n.alpha=v,o("change",v)}};return ue(()=>{const c={drag:p=>{u(p)},end:p=>{u(p)}};t.value&&a.value&&ne.triggerDragEvent(t.value,c)}),{barElement:t,cursorElement:a,getCursorStyle:s,getBackgroundStyle:l,onClickSider:g}}}),Yt=e=>(se("data-v-18925ba6"),e=e(),ce(),e),Xt=Yt(()=>d("div",{class:"vc-alpha-slider__bar-handle"},null,-1)),Ft=[Xt];function Jt(e,o,t,a,i,n){return C(),w("div",{class:K(["vc-alpha-slider","transparent",{"small-slider":e.size==="small"}])},[d("div",{ref:"barElement",class:"vc-alpha-slider__bar",style:j(e.getBackgroundStyle),onClick:o[0]||(o[0]=(...l)=>e.onClickSider&&e.onClickSider(...l))},[d("div",{class:K(["vc-alpha-slider__bar-pointer",{"small-bar":e.size==="small"}]),ref:"cursorElement",style:j(e.getCursorStyle)},Ft,6)],4)],2)}const Ae=q(Gt,[["render",Jt],["__scopeId","data-v-18925ba6"]]),Ut=[["#fcc02e","#f67c01","#e64a19","#d81b43","#8e24aa","#512da7","#1f87e8","#008781","#05a045"],["#fed835","#fb8c00","#f5511e","#eb1d4e","#9c28b1","#5d35b0","#2097f3","#029688","#4cb050"],["#ffeb3c","#ffa727","#fe5722","#eb4165","#aa47bc","#673bb7","#42a5f6","#26a59a","#83c683"],["#fff176","#ffb74e","#ff8a66","#f1627e","#b968c7","#7986cc","#64b5f6","#80cbc4","#a5d6a7"],["#fff59c","#ffcc80","#ffab91","#fb879e","#cf93d9","#9ea8db","#90caf8","#b2dfdc","#c8e6ca"],["transparent","#ffffff","#dedede","#a9a9a9","#4b4b4b","#353535","#212121","#000000","advance"]],Zt=z({name:"Palette",emits:["change"],setup(e,{emit:o}){return{palettes:Ut,computedBgStyle:t=>t==="transparent"?t:t==="advance"?{}:{background:R(t).toRgbString()},onColorChange:t=>{o("change",t)}}}}),Qt={class:"vc-compact"},eo=["onClick"];function to(e,o,t,a,i,n){return C(),w("div",Qt,[(C(!0),w(Z,null,he(e.palettes,(l,r)=>(C(),w("div",{key:r,class:"vc-compact__row"},[(C(!0),w(Z,null,he(l,(s,g)=>(C(),w("div",{key:g,class:"vc-compact__color-cube--wrap",onClick:u=>e.onColorChange(s)},[d("div",{class:K(["vc-compact__color_cube",{advance:s==="advance",transparent:s==="transparent"}]),style:j(e.computedBgStyle(s))},null,6)],8,eo))),128))]))),128))])}const Ue=q(Zt,[["render",to],["__scopeId","data-v-b969fd48"]]),oo=z({name:"Board",props:{color:f.instanceOf(B),round:f.bool.def(!1),hide:f.bool.def(!0)},emits:["change"],setup(e,{emit:o}){var t,a,i;const n=st(),l={h:((t=e.color)==null?void 0:t.hue)||0,s:1,v:1},r=new B(l).toHexString(),s=G({hueColor:r,saturation:((a=e.color)==null?void 0:a.saturation)||0,brightness:((i=e.color)==null?void 0:i.brightness)||0}),g=P(0),u=P(0),c=P(),p=P(),b=$(()=>({top:g.value+"px",left:u.value+"px"})),y=()=>{if(n){const S=n.vnode.el;u.value=s.saturation*(S==null?void 0:S.clientWidth),g.value=(1-s.brightness)*(S==null?void 0:S.clientHeight)}},v=S=>{S.target!==p.value&&m(S)},m=S=>{if(n){const Y=n.vnode.el,L=Y==null?void 0:Y.getBoundingClientRect();let F=S.clientX-L.left,J=S.clientY-L.top;F=ye(F,0,L.width),J=ye(J,0,L.height);const W=F/L.width,oe=ye(-(J/L.height)+1,0,1);u.value=F,g.value=J,s.saturation=W,s.brightness=oe,o("change",W,oe)}};return ue(()=>{n&&n.vnode.el&&c.value&&(ne.triggerDragEvent(c.value,{drag:S=>{m(S)},end:S=>{m(S)}}),ct(()=>{y()}))}),M(()=>e.color,S=>{fe(s,{hueColor:new B({h:S.hue,s:1,v:1}).toHexString(),saturation:S.saturation,brightness:S.brightness}),y()},{deep:!0}),{state:s,cursorElement:c,getCursorStyle:b,onClickBoard:v}}}),Be=e=>(se("data-v-058e5db2"),e=e(),ce(),e),ao=Be(()=>d("div",{class:"vc-saturation__white"},null,-1)),no=Be(()=>d("div",{class:"vc-saturation__black"},null,-1)),ro=Be(()=>d("div",null,null,-1)),lo=[ro];function io(e,o,t,a,i,n){return C(),w("div",{ref:"boardElement",class:K(["vc-saturation",{"vc-saturation__chrome":e.round,"vc-saturation__hidden":e.hide}]),style:j({backgroundColor:e.state.hueColor}),onClick:o[0]||(o[0]=(...l)=>e.onClickBoard&&e.onClickBoard(...l))},[ao,no,d("div",{class:"vc-saturation__cursor",ref:"cursorElement",style:j(e.getCursorStyle)},lo,4)],6)}const Pe=q(oo,[["render",io],["__scopeId","data-v-058e5db2"]]),so=z({name:"Hue",props:{color:f.instanceOf(B),size:f.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:o}){const t=P(null),a=P(null);let i=e.color||new B;const n=G({hue:i.hue||0});ae(()=>e.color,u=>{u&&(i=u,fe(n,{hue:i.hue}))},{deep:!0});const l=()=>{if(t.value&&a.value){const u=t.value.getBoundingClientRect(),c=a.value.offsetWidth;return n.hue===360?u.width-c/2:n.hue%360*(u.width-c)/360+c/2}return 0},r=$(()=>({left:l()+"px",top:0})),s=u=>{u.target!==t.value&&g(u)},g=u=>{if(u.stopPropagation(),t.value&&a.value){const c=t.value.getBoundingClientRect(),p=a.value.offsetWidth;let b=u.clientX-c.left;b=Math.min(b,c.width-p/2),b=Math.max(p/2,b);const y=Math.round((b-p/2)/(c.width-p)*360);i.hue=y,n.hue=y,o("change",y)}};return ue(()=>{const u={drag:c=>{g(c)},end:c=>{g(c)}};t.value&&a.value&&ne.triggerDragEvent(t.value,u)}),{barElement:t,cursorElement:a,getCursorStyle:r,onClickSider:s}}}),co=e=>(se("data-v-e1a08576"),e=e(),ce(),e),uo=co(()=>d("div",{class:"vc-hue-slider__bar-handle"},null,-1)),ho=[uo];function go(e,o,t,a,i,n){return C(),w("div",{class:K(["vc-hue-slider",{"small-slider":e.size==="small"}])},[d("div",{ref:"barElement",class:"vc-hue-slider__bar",onClick:o[0]||(o[0]=(...l)=>e.onClickSider&&e.onClickSider(...l))},[d("div",{class:K(["vc-hue-slider__bar-pointer",{"small-bar":e.size==="small"}]),ref:"cursorElement",style:j(e.getCursorStyle)},ho,6)],512)],2)}const xe=q(so,[["render",go],["__scopeId","data-v-e1a08576"]]),po=z({name:"Lightness",props:{color:f.instanceOf(B),size:f.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:o}){const t=P(null),a=P(null);let i=e.color||new B;const[n,l,r]=i.HSL,s=G({hue:n,saturation:l,lightness:r});ae(()=>e.color,y=>{if(y){i=y;const[v,m,S]=i.HSL;fe(s,{hue:v,saturation:m,lightness:S})}},{deep:!0});const g=$(()=>{const y=R({h:s.hue,s:s.saturation,l:.8}).toPercentageRgbString(),v=R({h:s.hue,s:s.saturation,l:.6}).toPercentageRgbString(),m=R({h:s.hue,s:s.saturation,l:.4}).toPercentageRgbString(),S=R({h:s.hue,s:s.saturation,l:.2}).toPercentageRgbString();return{background:[`linear-gradient(to right, rgb(255, 255, 255), ${y}, ${v}, ${m}, ${S}, rgb(0, 0, 0))`,`-webkit-linear-gradient(left, rgb(255, 255, 255), ${y}, ${v}, ${m}, ${S}, rgb(0, 0, 0))`,`-moz-linear-gradient(left, rgb(255, 255, 255), ${y}, ${v}, ${m}, ${S}, rgb(0, 0, 0))`,`-ms-linear-gradient(left, rgb(255, 255, 255), ${y}, ${v}, ${m}, ${S}, rgb(0, 0, 0))`]}}),u=()=>{if(t.value&&a.value){const y=s.lightness,v=t.value.getBoundingClientRect(),m=a.value.offsetWidth;return(1-y)*(v.width-m)+m/2}return 0},c=$(()=>({left:u()+"px",top:0})),p=y=>{y.target!==t.value&&b(y)},b=y=>{if(y.stopPropagation(),t.value&&a.value){const v=t.value.getBoundingClientRect(),m=a.value.offsetWidth;let S=y.clientX-v.left;S=Math.max(m/2,S),S=Math.min(S,v.width-m/2);const Y=1-(S-m/2)/(v.width-m);i.lightness=Y,o("change",Y)}};return ue(()=>{const y={drag:v=>{b(v)},end:v=>{b(v)}};t.value&&a.value&&ne.triggerDragEvent(t.value,y)}),{barElement:t,cursorElement:a,getCursorStyle:c,getBackgroundStyle:g,onClickSider:p}}}),vo=e=>(se("data-v-94a50a9e"),e=e(),ce(),e),fo=vo(()=>d("div",{class:"vc-lightness-slider__bar-handle"},null,-1)),Co=[fo];function bo(e,o,t,a,i,n){return C(),w("div",{class:K(["vc-lightness-slider",{"small-slider":e.size==="small"}])},[d("div",{ref:"barElement",class:"vc-lightness-slider__bar",style:j(e.getBackgroundStyle),onClick:o[0]||(o[0]=(...l)=>e.onClickSider&&e.onClickSider(...l))},[d("div",{class:K(["vc-lightness-slider__bar-pointer",{"small-bar":e.size==="small"}]),ref:"cursorElement",style:j(e.getCursorStyle)},Co,6)],4)],2)}const Ze=q(po,[["render",bo],["__scopeId","data-v-94a50a9e"]]),yo=z({name:"History",props:{colors:f.arrayOf(String).def(()=>[]),round:f.bool.def(!1)},emits:["change"],setup(e,{emit:o}){return{onColorSelect:t=>{o("change",t)}}}}),mo={key:0,class:"vc-colorPicker__record"},So={class:"color-list"},ko=["onClick"];function _o(e,o,t,a,i,n){return e.colors&&e.colors.length>0?(C(),w("div",mo,[d("div",So,[(C(!0),w(Z,null,he(e.colors,(l,r)=>(C(),w("div",{key:r,class:K(["color-item","transparent",{"color-item__round":e.round}]),onClick:s=>e.onColorSelect(l)},[d("div",{class:"color-item__display",style:j({backgroundColor:l})},null,4)],10,ko))),128))])])):A("",!0)}const He=q(yo,[["render",_o],["__scopeId","data-v-0f657238"]]),wo=z({name:"Display",props:{color:f.instanceOf(B),disableAlpha:f.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:o}){var t,a,i,n;const l=P("hex"),r=G({color:e.color,hex:(t=e.color)==null?void 0:t.hex,alpha:Math.floor(((a=e.color)==null?void 0:a.alpha)||100)+"%",rgba:(i=e.color)==null?void 0:i.RGB,previewBgColor:(n=e.color)==null?void 0:n.toRgbString()}),s=$(()=>({background:r.previewBgColor})),g=()=>{l.value=l.value==="rgba"?"hex":"rgba"},u=Q(p=>{if(!p.target.value)return;let b=parseInt(p.target.value.replace("%",""));b>100&&(p.target.value="100%",b=100),b<0&&(p.target.value="0%",b=0),isNaN(b)&&(p.target.value="100%",b=100),!isNaN(b)&&r.color&&(r.color.alpha=b),o("update:color",r.color),o("change",r.color)},300),c=Q((p,b)=>{if(p.target.value){if(l.value==="hex"){const y=p.target.value.replace("#","");R(y).isValid()&&r.color&&(r.color.hex=y)}else if(b!==void 0&&r.rgba&&r.color){p.target.value<0&&(p.target.value=0),b===3&&p.target.value>1&&(p.target.value=1),b<3&&p.target.value>255&&(p.target.value=255),r.rgba[b]=Number(p.target.value);const[y,v,m,S]=r.rgba;r.color.hex=R({r:y,g:v,b:m}).toHex(),r.color.alpha=Math.floor(S*100)}o("update:color",r.color),o("change",r.color)}},300);return M(()=>e.color,p=>{p&&(r.color=p,r.alpha=Math.floor(r.color.alpha)+"%",r.hex=r.color.hex,r.rgba=r.color.RGB)},{deep:!0}),M(()=>r.color,()=>{r.color&&(r.previewBgColor=r.color.toRgbString())},{deep:!0}),{state:r,getBgColorStyle:s,inputType:l,onInputTypeChange:g,onAlphaBlur:u,onInputChange:c}}}),Oo={class:"vc-display"},Ro={class:"vc-current-color vc-transparent"},Ao={key:0,style:{display:"flex",flex:"1",gap:"4px",height:"100%"}},Bo={class:"vc-color-input"},Po=["value"],xo={key:0,class:"vc-alpha-input"},Ho=["value"],Vo={key:1,style:{display:"flex",flex:"1",gap:"4px",height:"100%"}},To=["value","onInput"];function $o(e,o,t,a,i,n){return C(),w("div",Oo,[d("div",Ro,[d("div",{class:"color-cube",style:j(e.getBgColorStyle)},null,4)]),e.inputType==="hex"?(C(),w("div",Ao,[d("div",Bo,[d("input",{value:e.state.hex,onInput:o[0]||(o[0]=(...l)=>e.onInputChange&&e.onInputChange(...l))},null,40,Po)]),e.disableAlpha?A("",!0):(C(),w("div",xo,[d("input",{class:"vc-alpha-input__inner",value:e.state.alpha,onInput:o[1]||(o[1]=(...l)=>e.onAlphaBlur&&e.onAlphaBlur(...l))},null,40,Ho)]))])):e.state.rgba?(C(),w("div",Vo,[(C(!0),w(Z,null,he(e.state.rgba,(l,r)=>(C(),w("div",{class:"vc-color-input",key:r},[d("input",{value:l,onInput:s=>e.onInputChange(s,r)},null,40,To)]))),128))])):A("",!0),d("div",{class:"vc-input-toggle",onClick:o[2]||(o[2]=(...l)=>e.onInputTypeChange&&e.onInputTypeChange(...l))},pe(e.inputType),1)])}const Ve=q(wo,[["render",$o],["__scopeId","data-v-80d589ba"]]),jo=z({name:"FkColorPicker",components:{Display:Ve,Alpha:Ae,Palette:Ue,Board:Pe,Hue:xe,Lightness:Ze,History:He},props:{color:f.instanceOf(B),disableHistory:f.bool.def(!1),roundHistory:f.bool.def(!1),disableAlpha:f.bool.def(!1)},emits:["update:color","change","advanceChange"],setup(e,{emit:o}){const t=e.color||new B,a=G({color:t,hex:t.toHexString(),rgb:t.toRgbString()}),i=P(!1),n=$(()=>({background:a.rgb})),l=()=>{i.value=!1,o("advanceChange",!1)},r=_e(Oe,[],{}),s=Q(()=>{if(e.disableHistory)return;const v=a.color.toRgbString();if(r.value=r.value.filter(m=>!R.equals(m,v)),!r.value.includes(v)){for(;r.value.length>Re;)r.value.pop();r.value.unshift(v)}},500),g=v=>{v==="advance"?(i.value=!0,o("advanceChange",!0)):(a.color.hex=v,o("advanceChange",!1))},u=v=>{a.color.alpha=v},c=v=>{a.color.hue=v},p=(v,m)=>{a.color.saturation=v,a.color.brightness=m},b=v=>{a.color.lightness=v},y=v=>{const m=v.target.value.replace("#","");R(m).isValid()&&(a.color.hex=m)};return M(()=>e.color,v=>{v&&(a.color=v)},{deep:!0}),M(()=>a.color,()=>{a.hex=a.color.hex,a.rgb=a.color.toRgbString(),s(),o("update:color",a.color),o("change",a.color)},{deep:!0}),{state:a,advancePanelShow:i,onBack:l,onCompactChange:g,onAlphaChange:u,onHueChange:c,onBoardChange:p,onLightChange:b,onInputChange:y,previewStyle:n,historyColors:r}}}),Eo=e=>(se("data-v-0d5bef46"),e=e(),ce(),e),Mo={class:"vc-fk-colorPicker"},No={class:"vc-fk-colorPicker__inner"},Ko={class:"vc-fk-colorPicker__header"},Lo=Eo(()=>d("div",{class:"back"},null,-1)),Io=[Lo];function Do(e,o,t,a,i,n){const l=V("Palette"),r=V("Board"),s=V("Hue"),g=V("Lightness"),u=V("Alpha"),c=V("Display"),p=V("History");return C(),w("div",Mo,[d("div",No,[d("div",Ko,[e.advancePanelShow?(C(),w("span",{key:0,style:{cursor:"pointer"},onClick:o[0]||(o[0]=(...b)=>e.onBack&&e.onBack(...b))},Io)):A("",!0)]),e.advancePanelShow?A("",!0):(C(),T(l,{key:0,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?(C(),T(r,{key:1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"])):A("",!0),e.advancePanelShow?(C(),T(s,{key:2,color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"])):A("",!0),e.advancePanelShow?A("",!0):(C(),T(g,{key:3,color:e.state.color,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?A("",!0):(C(),T(u,{key:4,color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"])),U(c,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?A("",!0):(C(),T(p,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}const De=q(jo,[["render",Do],["__scopeId","data-v-0d5bef46"]]),zo=z({name:"ChromeColorPicker",components:{Display:Ve,Alpha:Ae,Board:Pe,Hue:xe,History:He},props:{color:f.instanceOf(B),disableHistory:f.bool.def(!1),roundHistory:f.bool.def(!1),disableAlpha:f.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:o}){const t=e.color||new B,a=G({color:t,hex:t.toHexString(),rgb:t.toRgbString()}),i=$(()=>({background:a.rgb})),n=_e(Oe,[],{}),l=Q(()=>{if(e.disableHistory)return;const c=a.color.toRgbString();if(n.value=n.value.filter(p=>!R.equals(p,c)),!n.value.includes(c)){for(;n.value.length>Re;)n.value.pop();n.value.unshift(c)}},500),r=c=>{a.color.alpha=c},s=c=>{a.color.hue=c},g=(c,p)=>{a.color.saturation=c,a.color.brightness=p},u=c=>{c!=="advance"&&(a.color.hex=c)};return M(()=>e.color,c=>{c&&(a.color=c)},{deep:!0}),M(()=>a.color,()=>{a.hex=a.color.hex,a.rgb=a.color.toRgbString(),l(),o("update:color",a.color),o("change",a.color)},{deep:!0}),{state:a,previewStyle:i,historyColors:n,onAlphaChange:r,onHueChange:s,onBoardChange:g,onCompactChange:u}}}),Wo={class:"vc-chrome-colorPicker"},qo={class:"vc-chrome-colorPicker-body"},Go={class:"chrome-controls"},Yo={class:"chrome-sliders"};function Xo(e,o,t,a,i,n){const l=V("Board"),r=V("Hue"),s=V("Alpha"),g=V("Display"),u=V("History");return C(),w("div",Wo,[U(l,{round:!0,hide:!1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"]),d("div",qo,[d("div",Go,[d("div",Yo,[U(r,{size:"small",color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"]),e.disableAlpha?A("",!0):(C(),T(s,{key:0,size:"small",color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"]))])]),U(g,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?A("",!0):(C(),T(u,{key:0,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}const ze=q(zo,[["render",Xo],["__scopeId","data-v-33636434"]]),Te="Vue3ColorPickerProvider",Fo=(e,o)=>{const t=e.getBoundingClientRect(),a=t.left+t.width/2,i=t.top+t.height/2,n=Math.abs(a-o.clientX),l=Math.abs(i-o.clientY),r=Math.sqrt(Math.pow(n,2)+Math.pow(l,2)),s=l/r,g=Math.acos(s);let u=Math.floor(180/(Math.PI/g));return o.clientX>a&&o.clientY>i&&(u=180-u),o.clientX==a&&o.clientY>i&&(u=180),o.clientX>a&&o.clientY==i&&(u=90),o.clientX<a&&o.clientY>i&&(u=180+u),o.clientX<a&&o.clientY==i&&(u=270),o.clientX<a&&o.clientY<i&&(u=360-u),u};let me=!1;const Jo=(e,o)=>{const t=function(i){var n;(n=o.drag)==null||n.call(o,i)},a=function(i){var n;document.removeEventListener("mousemove",t,!1),document.removeEventListener("mouseup",a,!1),document.onselectstart=null,document.ondragstart=null,me=!1,(n=o.end)==null||n.call(o,i)};e&&e.addEventListener("mousedown",i=>{var n;me||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",t,!1),document.addEventListener("mouseup",a,!1),me=!0,(n=o.start)==null||n.call(o,i))})},Uo={angle:{type:Number,default:0},size:{type:Number,default:16,validator:e=>e>=16},borderWidth:{type:Number,default:1,validator:e=>e>=1},borderColor:{type:String,default:"#666"}},Zo=z({name:"Angle",props:Uo,emits:["update:angle","change"],setup(e,{emit:o}){const t=P(null),a=P(0);ae(()=>e.angle,r=>{a.value=r});const i=()=>{let r=Number(a.value);isNaN(r)||(r=r>360||r<0?e.angle:r,a.value=r===360?0:r,o("update:angle",a.value),o("change",a.value))},n=$(()=>({width:e.size+"px",height:e.size+"px",borderWidth:e.borderWidth+"px",borderColor:e.borderColor,transform:`rotate(${a.value}deg)`})),l=r=>{t.value&&(a.value=Fo(t.value,r)%360,i())};return ut(()=>{const r={drag:s=>{l(s)},end:s=>{l(s)}};t.value&&Jo(t.value,r)}),()=>U("div",{class:"bee-angle"},[U("div",{class:"bee-angle__round",ref:t,style:n.value},null)])}}),Qo=z({name:"GradientColorPicker",components:{Angle:Zo,Display:Ve,Alpha:Ae,Palette:Ue,Board:Pe,Hue:xe,Lightness:Ze,History:He},props:{startColor:f.instanceOf(B).isRequired,endColor:f.instanceOf(B).isRequired,startColorStop:f.number.def(0),endColorStop:f.number.def(100),angle:f.number.def(0),type:f.oneOf(["linear","radial"]).def("linear"),disableHistory:f.bool.def(!1),roundHistory:f.bool.def(!1),disableAlpha:f.bool.def(!1),pickerType:f.oneOf(["fk","chrome"]).def("fk")},emits:["update:startColor","update:endColor","update:angle","update:startColorStop","update:endColorStop","startColorChange","endColorChange","advanceChange","angleChange","startColorStopChange","endColorStopChange","typeChange"],setup(e,{emit:o}){const t=G({startActive:!0,startColor:e.startColor,endColor:e.endColor,startColorStop:e.startColorStop,endColorStop:e.endColorStop,angle:e.angle,type:e.type,startColorRgba:e.startColor.toRgbString(),endColorRgba:e.endColor.toRgbString()}),a=qe(Te),i=P(e.pickerType==="chrome"),n=P(),l=P(),r=P();ae(()=>[e.startColor,e.endColor,e.angle],h=>{t.startColor=h[0],t.endColor=h[1],t.angle=h[2]}),ae(()=>e.type,h=>{t.type=h});const s=$({get:()=>t.startActive?t.startColor:t.endColor,set:h=>{if(t.startActive){t.startColor=h;return}t.endColor=h}}),g=$(()=>{if(r.value&&n.value){const h=t.startColorStop/100,x=r.value.getBoundingClientRect(),_=n.value.offsetWidth;return Math.round(h*(x.width-_)+_/2)}return 0}),u=$(()=>{if(r.value&&l.value){const h=t.endColorStop/100,x=r.value.getBoundingClientRect(),_=l.value.offsetWidth;return Math.round(h*(x.width-_)+_/2)}return 0}),c=$(()=>{let h=`background: linear-gradient(${t.angle}deg, ${t.startColorRgba} ${t.startColorStop}%, ${t.endColorRgba} ${t.endColorStop}%)`;return t.type==="radial"&&(h=`background: radial-gradient(circle, ${t.startColorRgba} ${t.startColorStop}%, ${t.endColorRgba} ${t.endColorStop}%)`),h}),p=h=>{var x;if(t.startActive=!0,r.value&&n.value){const _=(x=r.value)==null?void 0:x.getBoundingClientRect();let I=h.clientX-_.left;I=Math.max(n.value.offsetWidth/2,I),I=Math.min(I,_.width-n.value.offsetWidth/2),t.startColorStop=Math.round((I-n.value.offsetWidth/2)/(_.width-n.value.offsetWidth)*100),o("update:startColorStop",t.startColorStop),o("startColorStopChange",t.startColorStop)}},b=h=>{var x;if(t.startActive=!1,r.value&&l.value){const _=(x=r.value)==null?void 0:x.getBoundingClientRect();let I=h.clientX-_.left;I=Math.max(l.value.offsetWidth/2,I),I=Math.min(I,_.width-l.value.offsetWidth/2),t.endColorStop=Math.round((I-l.value.offsetWidth/2)/(_.width-l.value.offsetWidth)*100),o("update:endColorStop",t.endColorStop),o("endColorStopChange",t.endColorStop)}},y=h=>{const x=h.target,_=parseInt(x.value.replace("\xB0",""));isNaN(_)||(t.angle=_%360),o("update:angle",t.angle),o("angleChange",t.angle)},v=h=>{t.angle=h,o("update:angle",t.angle),o("angleChange",t.angle)},m=h=>{h==="advance"?(i.value=!0,o("advanceChange",!0)):(s.value.hex=h,o("advanceChange",!1)),W()},S=h=>{s.value.alpha=h,W()},Y=h=>{s.value.hue=h,W()},L=(h,x)=>{s.value.saturation=h,s.value.brightness=x,W()},F=h=>{s.value.lightness=h,W()},J=()=>{W()},W=()=>{t.startActive?(o("update:startColor",t.startColor),o("startColorChange",t.startColor)):(o("update:endColor",t.endColor),o("endColorChange",t.endColor))},oe=()=>{i.value=!1,o("advanceChange",!1)},be=()=>{t.type=t.type==="linear"?"radial":"linear",o("typeChange",t.type)},k=_e(Oe,[],{}),O=Q(()=>{if(e.disableHistory)return;const h=s.value.toRgbString();if(k.value=k.value.filter(x=>!R.equals(x,h)),!k.value.includes(h)){for(;k.value.length>Re;)k.value.pop();k.value.unshift(h)}},500);return ue(()=>{l.value&&n.value&&(ne.triggerDragEvent(l.value,{drag:h=>{b(h)},end:h=>{b(h)}}),ne.triggerDragEvent(n.value,{drag:h=>{p(h)},end:h=>{p(h)}}))}),M(()=>t.startColor,h=>{t.startColorRgba=h.toRgbString()},{deep:!0}),M(()=>t.endColor,h=>{t.endColorRgba=h.toRgbString()},{deep:!0}),M(()=>s.value,()=>{O()},{deep:!0}),{startGradientRef:n,stopGradientRef:l,colorRangeRef:r,state:t,currentColor:s,getStartColorLeft:g,getEndColorLeft:u,gradientBg:c,advancePanelShow:i,onDegreeBlur:y,onCompactChange:m,onAlphaChange:S,onHueChange:Y,onBoardChange:L,onLightChange:F,historyColors:k,onBack:oe,onDegreeChange:v,onDisplayChange:J,onTypeChange:be,lang:a==null?void 0:a.lang}}}),Qe=e=>(se("data-v-431cadee"),e=e(),ce(),e),ea={class:"vc-gradient-picker"},ta={class:"vc-gradient-picker__header"},oa={class:"vc-gradient__types"},aa={class:"vc-gradient-wrap__types"},na={class:"vc-picker-degree-input vc-degree-input"},ra={class:"vc-degree-input__control"},la=["value"],ia={class:"vc-degree-input__panel"},sa={class:"vc-degree-input__disk"},ca={class:"vc-gradient-picker__body"},ua={class:"vc-color-range",ref:"colorRangeRef"},da={class:"vc-color-range__container"},ha={class:"vc-gradient__stop__container"},ga=["title"],pa=Qe(()=>d("span",{class:"vc-gradient__stop--inner"},null,-1)),va=[pa],fa=["title"],Ca=Qe(()=>d("span",{class:"vc-gradient__stop--inner"},null,-1)),ba=[Ca];function ya(e,o,t,a,i,n){var l,r;const s=V("Angle"),g=V("Board"),u=V("Hue"),c=V("Palette"),p=V("Lightness"),b=V("Alpha"),y=V("Display"),v=V("History");return C(),w("div",ea,[d("div",ta,[d("div",null,[Se(d("div",{class:"back",style:{cursor:"pointer"},onClick:o[0]||(o[0]=(...m)=>e.onBack&&e.onBack(...m))},null,512),[[ke,e.pickerType==="fk"&&e.advancePanelShow]])]),d("div",oa,[d("div",aa,[(C(),w(Z,null,he(["linear","radial"],m=>d("div",{class:K(["vc-gradient__type",{active:e.state.type===m}]),key:m,onClick:o[1]||(o[1]=(...S)=>e.onTypeChange&&e.onTypeChange(...S))},pe(e.lang?e.lang[m]:m),3)),64))]),Se(d("div",na,[d("div",ra,[d("input",{value:e.state.angle,onBlur:o[2]||(o[2]=(...m)=>e.onDegreeBlur&&e.onDegreeBlur(...m))},null,40,la),ht("deg ")]),d("div",ia,[d("div",sa,[U(s,{angle:e.state.angle,"onUpdate:angle":o[3]||(o[3]=m=>e.state.angle=m),size:40,onChange:e.onDegreeChange},null,8,["angle","onChange"])])])],512),[[ke,e.state.type==="linear"]])])]),d("div",ca,[d("div",ua,[d("div",da,[d("div",{class:"vc-background",style:j(e.gradientBg)},null,4),d("div",ha,[d("div",{class:K(["vc-gradient__stop",{"vc-gradient__stop--current":e.state.startActive}]),ref:"startGradientRef",title:(l=e.lang)==null?void 0:l.start,style:j({left:e.getStartColorLeft+"px",backgroundColor:e.state.startColorRgba})},va,14,ga),d("div",{class:K(["vc-gradient__stop",{"vc-gradient__stop--current":!e.state.startActive}]),ref:"stopGradientRef",title:(r=e.lang)==null?void 0:r.end,style:j({left:e.getEndColorLeft+"px",backgroundColor:e.state.endColorRgba})},ba,14,fa)])])],512)]),e.advancePanelShow?(C(),T(g,{key:0,color:e.currentColor,onChange:e.onBoardChange},null,8,["color","onChange"])):A("",!0),e.advancePanelShow?(C(),T(u,{key:1,color:e.currentColor,onChange:e.onHueChange},null,8,["color","onChange"])):A("",!0),e.advancePanelShow?A("",!0):(C(),T(c,{key:2,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?A("",!0):(C(),T(p,{key:3,color:e.currentColor,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?A("",!0):(C(),T(b,{key:4,color:e.currentColor,onChange:e.onAlphaChange},null,8,["color","onChange"])),U(y,{color:e.currentColor,"disable-alpha":e.disableAlpha,onChange:e.onDisplayChange},null,8,["color","disable-alpha","onChange"]),e.disableHistory?A("",!0):(C(),T(v,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])}const We=q(Qo,[["render",ya],["__scopeId","data-v-431cadee"]]),ma=z({name:"WrapContainer",props:{theme:f.oneOf(["white","black"]).def("white"),showTab:f.bool.def(!1),activeKey:f.oneOf(["pure","gradient"]).def("pure")},emits:["update:activeKey","change"],setup(e,{emit:o}){const t=G({activeKey:e.activeKey}),a=qe(Te),i=n=>{t.activeKey=n,o("update:activeKey",n),o("change",n)};return M(()=>e.activeKey,n=>{t.activeKey=n}),{state:t,onActiveKeyChange:i,lang:a==null?void 0:a.lang}}}),Sa={class:"vc-colorpicker--container"},ka={key:0,class:"vc-colorpicker--tabs"},_a={class:"vc-colorpicker--tabs__inner"},wa={class:"vc-btn__content"},Oa={class:"vc-btn__content"};function Ra(e,o,t,a,i,n){var l,r;return C(),w("div",{class:K(["vc-colorpicker",e.theme])},[d("div",Sa,[e.showTab?(C(),w("div",ka,[d("div",_a,[d("div",{class:K(["vc-colorpicker--tabs__btn",{"vc-btn-active":e.state.activeKey==="pure"}]),onClick:o[0]||(o[0]=s=>e.onActiveKeyChange("pure"))},[d("button",null,[d("div",wa,pe((l=e.lang)==null?void 0:l.pure),1)])],2),d("div",{class:K(["vc-colorpicker--tabs__btn",{"vc-btn-active":e.state.activeKey==="gradient"}]),onClick:o[1]||(o[1]=s=>e.onActiveKeyChange("gradient"))},[d("button",null,[d("div",Oa,pe((r=e.lang)==null?void 0:r.gradient),1)])],2),d("div",{class:"vc-colorpicker--tabs__bg",style:j({width:"50%",left:`calc(${e.state.activeKey==="gradient"?50:0}%)`})},null,4)])])):A("",!0),gt(e.$slots,"default",{},void 0,!0)])],2)}const Aa=q(ma,[["render",Ra],["__scopeId","data-v-0492277d"]]),Ba={start:"Start",end:"End",pure:"Pure",gradient:"Gradient",linear:"linear",radial:"radial"},Pa={start:"\u5F00\u59CB",end:"\u7ED3\u675F",pure:"\u7EAF\u8272",gradient:"\u6E10\u53D8",linear:"\u7EBF\u6027",radial:"\u5F84\u5411"},xa={En:Ba,"ZH-cn":Pa},Ha={isWidget:f.bool.def(!1),pickerType:f.oneOf(["fk","chrome"]).def("fk"),shape:f.oneOf(["circle","square"]).def("square"),pureColor:{type:[String,Object],default:"#000000"},gradientColor:f.string.def("linear-gradient(90deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)"),format:{type:String,default:"rgb"},disableAlpha:f.bool.def(!1),disableHistory:f.bool.def(!1),roundHistory:f.bool.def(!1),useType:f.oneOf(["pure","gradient","both"]).def("pure"),activeKey:f.oneOf(["pure","gradient"]).def("pure"),lang:{type:String,default:"ZH-cn"},zIndex:f.number.def(9999),pickerContainer:{type:[String,HTMLElement],default:"body"},debounce:f.number.def(100),theme:f.oneOf(["white","black"]).def("white")},Va=z({name:"ColorPicker",components:{FkColorPicker:De,ChromeColorPicker:ze,GradientColorPicker:We,WrapContainer:Aa},inheritAttrs:!1,props:Ha,emits:["update:pureColor","pureColorChange","update:gradientColor","gradientColorChange","update:activeKey","activeKeyChange"],setup(e,{emit:o}){dt(Te,{lang:$(()=>xa[e.lang||"ZH-cn"])});const t=G({pureColor:e.pureColor||"",activeKey:e.useType==="gradient"?"gradient":e.activeKey,isAdvanceMode:!1}),a=new B("#000"),i=new B("#000"),n=new B(t.pureColor),l=G({startColor:a,endColor:i,startColorStop:0,endColorStop:100,angle:0,type:"linear",gradientColor:e.gradientColor}),r=P(n),s=P(!1),g=P(null),u=P(null);let c=null;const p=$(()=>({background:t.activeKey!=="gradient"?R(t.pureColor).toRgbString():l.gradientColor})),b=$(()=>t.activeKey==="gradient"?We.name:e.pickerType==="fk"?De.name:ze.name),y=k=>{t.isAdvanceMode=k},v=$(()=>{const k={disableAlpha:e.disableAlpha,disableHistory:e.disableHistory,roundHistory:e.roundHistory,pickerType:e.pickerType};return t.activeKey==="gradient"?{...k,startColor:l.startColor,endColor:l.endColor,angle:l.angle,type:l.type,startColorStop:l.startColorStop,endColorStop:l.endColorStop,onStartColorChange:O=>{l.startColor=O,L()},onEndColorChange:O=>{l.endColor=O,L()},onStartColorStopChange:O=>{l.startColorStop=O,L()},onEndColorStopChange:O=>{l.endColorStop=O,L()},onAngleChange:O=>{l.angle=O,L()},onTypeChange:O=>{l.type=O,L()},onAdvanceChange:y}:{...k,disableAlpha:e.disableAlpha,disableHistory:e.disableHistory,roundHistory:e.roundHistory,color:r.value,onChange:W,onAdvanceChange:y}}),m=()=>{s.value=!0,c?c.update():J()},S=()=>{s.value=!1},Y=()=>{var k,O,h,x;try{const[_]=Ct(l.gradientColor);if(_&&_.type.includes("gradient")&&_.colorStops.length>=2){const I=_.colorStops[0],$e=_.colorStops[1];l.startColorStop=Number((k=I.length)==null?void 0:k.value)||0,l.endColorStop=Number((O=$e.length)==null?void 0:O.value)||0,_.type==="linear-gradient"&&((h=_.orientation)==null?void 0:h.type)==="angular"&&(l.angle=Number((x=_.orientation)==null?void 0:x.value)||0),l.type=_.type.split("-")[0];const[et,tt,ot,at]=I.value,[nt,rt,lt,it]=$e.value;l.startColor=new B({r:Number(et),g:Number(tt),b:Number(ot),a:Number(at)}),l.endColor=new B({r:Number(nt),g:Number(rt),b:Number(lt),a:Number(it)})}}catch(_){console.log(`[Parse Color]: ${_}`)}},L=Q(()=>{const k=F();try{l.gradientColor=ft(k),o("update:gradientColor",l.gradientColor),o("gradientColorChange",l.gradientColor)}catch(O){console.log(O)}},e.debounce),F=()=>{const k=[],O=l.startColor.RGB.map(_=>_.toString()),h=l.endColor.RGB.map(_=>_.toString()),x=[{type:"rgba",value:[O[0],O[1],O[2],O[3]],length:{value:l.startColorStop+"",type:"%"}},{type:"rgba",value:[h[0],h[1],h[2],h[3]],length:{value:l.endColorStop+"",type:"%"}}];return l.type==="linear"?k.push({type:"linear-gradient",orientation:{type:"angular",value:l.angle+""},colorStops:x}):l.type==="radial"&&k.push({type:"radial-gradient",orientation:[{type:"shape",value:"circle"}],colorStops:x}),k},J=()=>{g.value&&u.value&&(c=bt(g.value,u.value,{placement:"auto",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"flip",options:{allowedAutoPlacements:["top","bottom","left","right"],rootBoundary:"viewport"}}]}))},W=k=>{r.value=k,t.pureColor=k.toString(e.format),oe()},oe=Q(()=>{o("update:pureColor",t.pureColor),o("pureColorChange",t.pureColor)},e.debounce);vt(u,()=>{S()});const be=k=>{t.activeKey=k,o("update:activeKey",k),o("activeKeyChange",k)};return ue(()=>{Y()}),M(()=>e.gradientColor,k=>{k!=l.gradientColor&&(l.gradientColor=k)}),M(()=>l.gradientColor,()=>{Y()}),M(()=>e.activeKey,k=>{t.activeKey=k}),M(()=>e.useType,k=>{t.activeKey!=="gradient"&&k==="gradient"?t.activeKey="gradient":t.activeKey="pure"}),M(()=>e.pureColor,k=>{R.equals(k,t.pureColor)||(t.pureColor=k,r.value=new B(k))},{deep:!0}),{colorCubeRef:g,pickerRef:u,showPicker:s,colorInstance:r,getBgColorStyle:p,onColorChange:W,onShowPicker:m,onActiveKeyChange:be,getComponentName:b,getBindArgs:v,state:t}}});function Ta(e,o,t,a,i,n){const l=V("WrapContainer");return C(),w(Z,null,[e.isWidget?(C(),T(l,{key:0,"active-key":e.state.activeKey,"onUpdate:activeKey":o[0]||(o[0]=r=>e.state.activeKey=r),"show-tab":e.useType==="both",onChange:e.onActiveKeyChange,style:j({zIndex:e.zIndex}),theme:e.theme},{default:je(()=>[(C(),T(Ee(e.getComponentName),Me({key:e.getComponentName},e.getBindArgs),null,16))]),_:1},8,["active-key","show-tab","onChange","style","theme"])):A("",!0),e.isWidget?A("",!0):(C(),w(Z,{key:1},[d("div",{class:K(["vc-color-wrap transparent",{round:e.shape==="circle"}]),ref:"colorCubeRef"},[d("div",{class:"current-color",style:j(e.getBgColorStyle),onClick:o[1]||(o[1]=(...r)=>e.onShowPicker&&e.onShowPicker(...r))},null,4)],2),(C(),T(pt,{to:e.pickerContainer},[Se(d("div",{ref:"pickerRef",style:j({zIndex:e.zIndex})},[e.showPicker?(C(),T(l,{key:0,"show-tab":e.useType==="both"&&!e.state.isAdvanceMode,"active-key":e.state.activeKey,"onUpdate:activeKey":o[2]||(o[2]=r=>e.state.activeKey=r),onChange:e.onActiveKeyChange,theme:e.theme},{default:je(()=>[(C(),T(Ee(e.getComponentName),Me({key:e.getComponentName},e.getBindArgs),null,16))]),_:1},8,["show-tab","active-key","onChange","theme"])):A("",!0)],4),[[ke,e.showPicker]])],8,["to"]))],64))],64)}const ge=q(Va,[["render",Ta],["__scopeId","data-v-3ba84123"]]),Ia={install:e=>{e.component(ge.name,ge),e.component("Vue3"+ge.name,ge)}};export{Ia as Q};
