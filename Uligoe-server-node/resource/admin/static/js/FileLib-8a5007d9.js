import{u as B}from"./useFile-fbf1e74d.js";import{s as N}from"./pinia-b4aeb200.js";import{_ as O}from"./index-60949b5a.js";import{ac as S,ab as U,X as V,N as D}from"./@ant-design-2dc0aa31.js";import{o as R,a7 as l,$ as r,a0 as g,c as e,a9 as o,u as a,K as u,a1 as m,a8 as f,J as v,F as T,a4 as j,ab as E,ac as J}from"./@vue-9926d340.js";import"./ant-design-vue-01be3039.js";import"./@babel-fff5462b.js";import"./resize-observer-polyfill-c24c855f.js";import"./vue-types-932461d1.js";import"./@ctrl-7f4e908e.js";import"./dom-align-de4ed2f2.js";import"./lodash-es-6d6f457b.js";import"./dayjs-332804ad.js";import"./async-validator-efc2d198.js";import"./scroll-into-view-if-needed-90d8f7af.js";import"./compute-scroll-into-view-72df79c3.js";import"./vue-demi-5b9a0fa5.js";import"./vue-router-c96a8d72.js";import"./mitt-dab1f1cb.js";import"./axios-f45f83e3.js";import"./nprogress-7c12677d.js";import"./vue3-colorpicker-2b62a1f5.js";import"./@vueuse-f8675665.js";import"./tinycolor2-8fe94c9b.js";import"./gradient-parser-8ea7f2ac.js";import"./@aesoper-129a60c8.js";import"./@popperjs-898015e8.js";const K=p=>(E("data-v-4163b798"),p=p(),J(),p),M={class:"file-lib"},X={class:"ant-upload-drag-icon"},q=K(()=>m("p",{class:"ant-upload-text"},"\u70B9\u51FB\u6216\u62D6\u62FD\u6587\u4EF6\u5230\u5F53\u524D\u4F4D\u7F6E\u4E0A\u4F20",-1)),z={class:"file-lib-panel"},A=["src"],G={__name:"FileLib",setup(p){const i=B(),{fileList:b,visible:s,name:_,uploadList:d,url:H}=N(i);return R(()=>{i.getFileList()}),(P,n)=>{const c=l("a-button"),k=l("a-upload-dragger"),y=l("a-input"),x=l("a-modal"),C=l("a-empty"),L=l("a-popconfirm"),h=l("a-card-meta"),F=l("a-card"),w=l("a-col"),I=l("a-row");return r(),g("div",M,[e(x,{visible:a(s),"onUpdate:visible":n[3]||(n[3]=t=>u(s)?s.value=t:null),title:"\u4E0A\u4F20\u6587\u4EF6"},{footer:o(()=>[e(c,{key:"back",onClick:n[0]||(n[0]=t=>s.value=!1)},{default:o(()=>[v("\u53D6\u6D88")]),_:1}),e(c,{key:"submit",type:"primary",onClick:a(i).insertFile},{default:o(()=>[v("\u5BFC\u5165")]),_:1},8,["onClick"])]),default:o(()=>[e(k,{fileList:a(d),"onUpdate:fileList":n[1]||(n[1]=t=>u(d)?d.value=t:null),name:"file",maxCount:1,action:"/api/file/upload",onChange:a(i).handleChange},{default:o(()=>[m("p",X,[e(a(S))]),q]),_:1},8,["fileList","onChange"]),e(y,{value:a(_),"onUpdate:value":n[2]||(n[2]=t=>u(_)?_.value=t:null),style:{"margin-top":"20px"},placeholder:"\u8F93\u5165\u6587\u4EF6\u6807\u9898"},null,8,["value"])]),_:1},8,["visible"]),m("div",z,[e(c,{type:"primary",onClick:n[4]||(n[4]=t=>s.value=!0)},{icon:o(()=>[e(a(U))]),default:o(()=>[v(" \u4E0A\u4F20 ")]),_:1}),a(b).length===0?(r(),f(C,{key:0})):(r(),f(I,{key:1,class:"file-list",gutter:[8,8]},{default:o(()=>[(r(!0),g(T,null,j(a(b),t=>(r(),f(w,{span:6},{default:o(()=>[e(F,{hoverable:"",style:{margin:"10px","margin-left":"0"}},{cover:o(()=>[m("img",{alt:"example",height:"260",style:{"object-fit":"cover"},src:t.url},null,8,A)]),actions:o(()=>[e(a(V),{key:"download",onClick:$=>a(i).download(t.url)},null,8,["onClick"]),e(L,{title:"\u786E\u8BA4\u5220\u9664\u5417?","ok-text":"\u786E\u8BA4","cancel-text":"\u53D6\u6D88",onConfirm:$=>a(i).delete(t.id,t.url)},{default:o(()=>[e(a(D),{key:"delete"})]),_:2},1032,["onConfirm"])]),default:o(()=>[e(h,{title:t.name},null,8,["title"])]),_:2},1024)]),_:2},1024))),256))]),_:1}))])])}}};var Lt=O(G,[["__scopeId","data-v-4163b798"]]);export{Lt as default};
