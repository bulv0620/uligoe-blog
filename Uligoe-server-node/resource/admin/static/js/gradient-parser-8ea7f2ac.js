var f=f||{};f.stringify=function(){var r={"visit_linear-gradient":function(t){return r.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return r.visit_gradient(t)},"visit_radial-gradient":function(t){return r.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return r.visit_gradient(t)},visit_gradient:function(t){var n=r.visit(t.orientation);return n&&(n+=", "),t.type+"("+n+r.visit(t.colorStops)+")"},visit_shape:function(t){var n=t.value,o=r.visit(t.at),s=r.visit(t.style);return s&&(n+=" "+s),o&&(n+=" at "+o),n},"visit_default-radial":function(t){var n="",o=r.visit(t.at);return o&&(n+=o),n},"visit_extent-keyword":function(t){var n=t.value,o=r.visit(t.at);return o&&(n+=" at "+o),n},"visit_position-keyword":function(t){return t.value},visit_position:function(t){return r.visit(t.value.x)+" "+r.visit(t.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_literal:function(t){return r.visit_color(t.value,t)},visit_hex:function(t){return r.visit_color("#"+t.value,t)},visit_rgb:function(t){return r.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return r.visit_color("rgba("+t.value.join(", ")+")",t)},visit_color:function(t,n){var o=t,s=r.visit(n.length);return s&&(o+=" "+s),o},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(t){var n="",o=t.length;return t.forEach(function(s,d){n+=r.visit(s),d<o-1&&(n+=", ")}),n},visit:function(t){if(!t)return"";var n="";if(t instanceof Array)return r.visit_array(t,n);if(t.type){var o=r["visit_"+t.type];if(o)return o(t);throw Error("Missing visitor visit_"+t.type)}else throw Error("Invalid node.")}};return function(t){return r.visit(t)}}();var f=f||{};f.parse=function(){var r={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function n(i){var e=new Error(t+": "+i);throw e.source=t,e}function o(){var i=s();return t.length>0&&n("Invalid input not EOF"),i}function s(){return g(d)}function d(){return v("linear-gradient",r.linearGradient,y)||v("repeating-linear-gradient",r.repeatingLinearGradient,y)||v("radial-gradient",r.radialGradient,_)||v("repeating-radial-gradient",r.repeatingRadialGradient,_)}function v(i,e,a){return h(e,function(c){var O=a();return O&&(l(r.comma)||n("Missing comma before color stops")),{type:i,orientation:O,colorStops:g(K)}})}function h(i,e){var a=l(i);if(a){l(r.startCall)||n("Missing (");var c=e(a);return l(r.endCall)||n("Missing )"),c}}function y(){return E()||L()}function E(){return u("directional",r.sideOrCorner,1)}function L(){return u("angular",r.angleValue,1)}function _(){var i,e=b(),a;return e&&(i=[],i.push(e),a=t,l(r.comma)&&(e=b(),e?i.push(e):t=a)),i}function b(){var i=V()||z();if(i)i.at=C();else{var e=m();if(e){i=e;var a=C();a&&(i.at=a)}else{var c=x();c&&(i={type:"default-radial",at:c})}}return i}function V(){var i=u("shape",/^(circle)/i,0);return i&&(i.style=G()||m()),i}function z(){var i=u("shape",/^(ellipse)/i,0);return i&&(i.style=p()||m()),i}function m(){return u("extent-keyword",r.extentKeywords,1)}function C(){if(u("position",/^at/,0)){var i=x();return i||n("Missing positioning value"),i}}function x(){var i=A();if(i.x||i.y)return{type:"position",value:i}}function A(){return{x:p(),y:p()}}function g(i){var e=i(),a=[];if(e)for(a.push(e);l(r.comma);)e=i(),e?a.push(e):n("One extra comma");return a}function K(){var i=R();return i||n("Expected color definition"),i.length=p(),i}function R(){return M()||D()||P()||S()}function S(){return u("literal",r.literalColor,0)}function M(){return u("hex",r.hexColor,1)}function P(){return h(r.rgbColor,function(){return{type:"rgb",value:g(w)}})}function D(){return h(r.rgbaColor,function(){return{type:"rgba",value:g(w)}})}function w(){return l(r.number)[1]}function p(){return u("%",r.percentageValue,1)||j()||G()}function j(){return u("position-keyword",r.positionKeywords,1)}function G(){return u("px",r.pixelValue,1)||u("em",r.emValue,1)}function u(i,e,a){var c=l(e);if(c)return{type:i,value:c[a]}}function l(i){var e,a;return a=/^[\n\r\t\s]+/.exec(t),a&&k(a[0].length),e=i.exec(t),e&&k(e[0].length),e}function k(i){t=t.substr(i)}return function(i){return t=i.toString(),o()}}();var B=f.parse,F=f.stringify;export{B as p,F as s};
